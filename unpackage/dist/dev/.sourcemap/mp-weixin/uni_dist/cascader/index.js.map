{"version":3,"sources":["webpack:///E:/program/hongke/pd-wx_uni/uni_dist/cascader/index.vue?84fb","webpack:///E:/program/hongke/pd-wx_uni/uni_dist/cascader/index.vue?5b5c","webpack:///E:/program/hongke/pd-wx_uni/uni_dist/cascader/index.vue?172f","webpack:///E:/program/hongke/pd-wx_uni/uni_dist/cascader/index.vue?af00","uni-app:///uni_dist/cascader/index.vue","webpack:///E:/program/hongke/pd-wx_uni/uni_dist/cascader/index.vue?eafb","webpack:///E:/program/hongke/pd-wx_uni/uni_dist/cascader/index.vue?3f45"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACwN;AACxN,gBAAgB,gOAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA81B,CAAgB,82BAAG,EAAC,C;;;;;;;;;;;;sGCAl3B,E;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAstC,CAAgB,ysCAAG,EAAC,C;;;;;;;;;;;ACA1uC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_dist/cascader/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=7f252646&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_dist/cascader/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=7f252646&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n<wux-popup :position=\"position\" :visible=\"visible\" :safeArea=\"position\" @close=\"onPopupClose\" :clearable=\"clearable\" @clear=\"onPopupClear\">\r\n\t<view :class=\"'wux-class ' + classes.wrap\">\r\n\t    <view :class=\"classes.hd\">\r\n\t    \t<view :class=\"classes.title\" v-if=\"title\">{{ title }}</view>\r\n\t    \t<view :class=\"classes.menus\" v-if=\"activeOptions.length\">\r\n\t    \t\t<block v-for=\"(item, index) in activeOptions\" :key=\"index\">\r\n\t    \t\t\t<view :class=\"classes.menu + ' ' + ( activeIndex === index ? prefixCls + '__menu--active' : '' )\" :data-menu-index=\"index\" @tap=\"onMenuClick\">{{ item[fieldNames['label']] }}</view>\r\n\t    \t\t</block>\r\n\t    \t</view>\r\n\t    </view>\r\n\t    <view :class=\"classes.bd\" :style=\"bodyStyle\">\r\n\t    \t<block v-for=\"(option, optionIndex) in showOptions\" :key=\"optionIndex\">\r\n\t    \t\t<view :class=\"classes.inner\">\r\n\t\t    \t\t<scroll-view scroll-y :class=\"'wux-scroll-view-class ' + classes.scrollView + '-' + position\">\r\n\t\t\t    \t\t<view :class=\"classes.option\">\r\n\t\t\t    \t\t\t<block v-for=\"(item, index) in option\" :key=\"index\">\r\n\t\t\t\t\t    \t\t<view :class=\"classes.item + ' ' + ( activeValue[optionIndex] === item[fieldNames['value']] ? prefixCls + '__item--active' : '' ) + ' ' + ( item.disabled ? prefixCls + '__item--disabled' : '' )\" :data-option-index=\"optionIndex\" :data-item=\"item\" @tap=\"onItemSelect\">\r\n\t\t\t\t\t    \t\t\t<text>{{ item[fieldNames['label']] }}</text>\r\n\t\t\t\t\t    \t\t\t<!-- <icon class=\"{{ classes.icon }}\" type=\"success_no_circle\" size=\"16\" color=\"#ef473a\" wx:if=\"{{ activeValue[optionIndex] === item[fieldNames['value']] }}\" /> -->\r\n\t\t\t\t\t    \t\t</view>\r\n\t\t\t\t\t    \t</block>\r\n\t\t\t    \t\t</view>\r\n\t\t    \t\t</scroll-view>\r\n\t    \t\t</view>\r\n\t    \t</block>\r\n\t    </view>\r\n\t</view>  \r\n</wux-popup>\r\n</template>\r\n\r\nimport baseComponent from '../helpers/baseComponent';\nimport classNames from '../helpers/classNames';\nimport arrayTreeFilter from '../helpers/arrayTreeFilter';\nconst WUX_CASCADER = 'wux-cascader';\nconst defaultFieldNames = {\n  label: 'label',\n  value: 'value',\n  children: 'children'\n};\nbaseComponent({\n  externalClasses: ['wux-scroll-view-class'],\n  properties: {\n    clearable: {\n      type: Boolean,\n      value: false\n    },\n    position: {\n      type: String,\n      value: 'bottom'\n    },\n    prefixCls: {\n      type: String,\n      value: 'wux-cascader'\n    },\n    defaultValue: {\n      type: Array,\n      value: []\n    },\n    value: {\n      type: Array,\n      value: []\n    },\n    controlled: {\n      type: Boolean,\n      value: false\n    },\n    title: {\n      type: String,\n      value: ''\n    },\n    options: {\n      type: Array,\n      value: []\n    },\n    chooseTitle: {\n      type: String,\n      value: '请选择'\n    },\n    visible: {\n      type: Boolean,\n      value: false\n    },\n    defaultFieldNames: {\n      type: Object,\n      value: defaultFieldNames\n    }\n  },\n  data: {\n    activeOptions: [],\n    activeIndex: 0,\n    bodyStyle: '',\n    activeValue: [],\n    showOptions: [],\n    fieldNames: {}\n  },\n  computed: {\n    classes: ['prefixCls', function (prefixCls) {\n      const wrap = classNames(prefixCls);\n      const hd = `${prefixCls}__hd`;\n      const title = `${prefixCls}__title`;\n      const menus = `${prefixCls}__menus`;\n      const menu = `${prefixCls}__menu`;\n      const bd = `${prefixCls}__bd`;\n      const inner = `${prefixCls}__inner`;\n      const scrollView = `${prefixCls}__scroll-view`;\n      const option = `${prefixCls}__option`;\n      const item = `${prefixCls}__item`;\n      const icon = `${prefixCls}__icon`;\n      const ft = `${prefixCls}__ft`;\n      return {\n        wrap,\n        hd,\n        title,\n        menus,\n        menu,\n        bd,\n        inner,\n        scrollView,\n        option,\n        item,\n        icon,\n        ft\n      };\n    }]\n  },\n  observers: {\n    value(newVal) {\n      if (this.data.controlled) {\n        this.setData({\n          activeValue: newVal\n        });\n        this.getCurrentOptions(newVal);\n      }\n    },\n\n    options() {\n      this.getCurrentOptions(this.data.activeValue);\n    }\n\n  },\n  methods: {\n    getActiveOptions(activeValue) {\n      const {\n        options\n      } = this.data;\n      const value = this.getFieldName('value');\n      const childrenKeyName = this.getFieldName('children');\n      return arrayTreeFilter(options, (option, level) => option[value] === activeValue[level], {\n        childrenKeyName\n      });\n    },\n\n    getShowOptions(activeValue) {\n      const {\n        options\n      } = this.data;\n      const children = this.getFieldName('children');\n      const result = this.getActiveOptions(activeValue).map(activeOption => activeOption[children]).filter(activeOption => !!activeOption);\n      return [options, ...result];\n    },\n\n    getMenus(activeValue = [], hasChildren) {\n      const {\n        options,\n        chooseTitle\n      } = this.data;\n      const activeOptions = this.getActiveOptions(activeValue);\n\n      if (hasChildren) {\n        const value = this.getFieldName('value');\n        const label = this.getFieldName('label');\n        activeOptions.push({\n          [value]: WUX_CASCADER,\n          [label]: chooseTitle\n        });\n      }\n\n      return activeOptions;\n    },\n\n    getNextActiveValue(value, optionIndex) {\n      let {\n        activeValue\n      } = this.data;\n      activeValue = activeValue.slice(0, optionIndex + 1);\n      activeValue[optionIndex] = value;\n      return activeValue;\n    },\n\n    updated(currentOptions, optionIndex, condition, callback) {\n      const value = this.getFieldName('value');\n      const children = this.getFieldName('children');\n      const hasChildren = currentOptions[children] && currentOptions[children].length > 0;\n      const activeValue = this.getNextActiveValue(currentOptions[value], optionIndex);\n      const activeOptions = this.getMenus(activeValue, hasChildren);\n      const activeIndex = activeOptions.length - 1;\n      const showOptions = this.getShowOptions(activeValue);\n      const params = {\n        activeValue,\n        activeOptions,\n        activeIndex,\n        showOptions\n      }; // 判断 hasChildren 计算需要更新的数据\n\n      if (hasChildren || activeValue.length === showOptions.length && (optionIndex = Math.max(0, optionIndex - 1))) {\n        params.bodyStyle = `transform: translate(${-50 * optionIndex}%)`;\n        params.showOptions = showOptions;\n      } // 判断是否需要 setData 更新数据\n\n\n      if (condition) {\n        this.setData(params);\n      } // 回调函数\n\n\n      if (typeof callback === 'function') {\n        callback.call(this, currentOptions, activeOptions, !hasChildren);\n      }\n    },\n\n    /**\r\n     * 更新级联数据\r\n     * @param {Array} activeValue 当前选中值\r\n     */\n    getCurrentOptions(activeValue = this.data.activeValue) {\n      const optionIndex = Math.max(0, activeValue.length - 1);\n      const activeOptions = this.getActiveOptions(activeValue);\n      const currentOptions = activeOptions[optionIndex];\n\n      if (currentOptions) {\n        this.updated(currentOptions, optionIndex, true);\n      } else {\n        const value = this.getFieldName('value');\n        const label = this.getFieldName('label');\n        activeOptions.push({\n          [value]: WUX_CASCADER,\n          [label]: this.data.chooseTitle\n        });\n        const showOptions = this.getShowOptions(activeValue);\n        const activeIndex = activeOptions.length - 1;\n        const params = {\n          showOptions,\n          activeOptions,\n          activeIndex,\n          bodyStyle: ''\n        };\n        this.setData(params);\n      }\n    },\n\n    /**\r\n     * 点击菜单时的回调函数\r\n     */\n    onMenuClick(e) {\n      const {\n        menuIndex\n      } = e.currentTarget.dataset;\n      const index = menuIndex > 1 ? menuIndex - 1 : 0;\n      const bodyStyle = `transform: translate(${-50 * index}%)`;\n      this.setData({\n        bodyStyle,\n        activeIndex: menuIndex\n      });\n    },\n\n    /**\r\n     * 点击选项时的回调函数\r\n     */\n    onItemSelect(e) {\n      const {\n        item,\n        optionIndex\n      } = e.currentTarget.dataset; // 判断是否禁用\n\n      if (!item || item.disabled) return; // updated\n\n      this.updated(item, optionIndex, !this.data.controlled, this.onChange);\n    },\n\n    /**\r\n     * 组件关闭时的回调函数\r\n     */\n    onPopupClose() {\n      this.triggerEvent('close');\n    },\n\n    onPopupClear() {\n      this.triggerEvent('clear');\n    },\n\n    /**\r\n     * 选择完成时的回调函数\r\n     */\n    onChange(currentOptions = {}, activeOptions = [], done = false) {\n      const options = activeOptions.filter(n => n[this.getFieldName('value')] !== WUX_CASCADER);\n      const value = options.map(n => n[this.getFieldName('value')]); // 判断是否异步加载\n\n      if (currentOptions.isLeaf === false && !currentOptions.children) {\n        this.emitEvent({\n          value,\n          options,\n          done: false\n        });\n        this.triggerEvent('load', {\n          value,\n          options\n        });\n        return;\n      } // 正常加载\n\n\n      this.emitEvent({\n        value,\n        options,\n        done\n      });\n    },\n\n    emitEvent(params = {}) {\n      this.triggerEvent('change', params); // 当选择完成时关闭组件\n\n      if (params.done) {\n        this.onPopupClose();\n      }\n    },\n\n    getFieldName(name) {\n      return this.data.fieldNames[name];\n    }\n\n  },\n\n  attached() {\n    const {\n      defaultValue,\n      value,\n      controlled\n    } = this.data;\n    const activeValue = controlled ? value : defaultValue;\n    const fieldNames = Object.assign({}, defaultFieldNames, this.data.defaultFieldNames);\n    this.setData({\n      activeValue,\n      fieldNames\n    });\n    this.getCurrentOptions(activeValue);\n  }\n\n});<style>\r\n@import \"./index.css\";\r\n</style>","import mod from \"-!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\TSBrowserDownloads\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1606201972593\n      var cssReload = require(\"D:/TSBrowserDownloads/HBuilderX.2.9.3.20201014.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}